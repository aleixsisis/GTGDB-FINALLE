{% extends "base.html" %}

{% block content %}
<h2>Update Your review</h2>
<form method="POST" action="{{ url_for('Update', review_id=review['id']) }}" onsubmit="return validateForm()">
    <label for="score">Score (max 10):</label>
    <input type="number" id="score" name="score" value="{{ review['score'] }}" required max="10">
    <br>
    <label for="review">Review (max 10 words):</label>
    <input type="text" id="review" name="review" value="{{ review['review'] }}" required>
    <br>
    <button type="submit">Update</button>
</form>
<script>
function validateForm() {
    const review = document.getElementById('review').value;
    const score = document.getElementById('score').value;
    const wordCount = review.split(' ').length;
    if (wordCount > 10) {
        alert('Review cannot exceed 10 words.');
        return false;
    }
    if (score > 10) {
        alert('Rating cannot exceed 10.');
        return false;
    }
    return true;
}
</script>
<br>
<a href="{{ url_for('Home') }}">Back to Home</a>
{% endblock %}
